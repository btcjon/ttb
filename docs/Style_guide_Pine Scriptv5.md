[

![Pine Script™ logo](https://www.tradingview.com/pine-script-docs/en/v5/_images/Pine_Script_logo.svg)

](https://www.tradingview.com/pine-script-docs/en/v5/Introduction.html)

-   [Introduction](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#introduction)
-   [Naming Conventions](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#naming-conventions)
-   [Script organization](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#script-organization)
    -   [<license>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#license)
    -   [<version>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#version)
    -   [<declaration\_statement>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#declaration-statement)
    -   [<import\_statements>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#import-statements)
    -   [<constant\_declarations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#constant-declarations)
    -   [<inputs>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#inputs)
    -   [<function\_declarations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#function-declarations)
    -   [<calculations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#calculations)
    -   [<strategy\_calls>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#strategy-calls)
    -   [<visuals>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#visuals)
    -   [<alerts>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#alerts)
-   [Spacing](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#spacing)
-   [Line wrapping](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#line-wrapping)
-   [Vertical alignment](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#vertical-alignment)
-   [Explicit typing](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#explicit-typing)

## [Introduction](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id1)

This style guide provides recommendations on how to name variables and organize your Pine scripts in a standard way that works well. Scripts that follow our best practices will be easier to read, understand and maintain.

You can see scripts using these guidelines published from the [TradingView](https://www.tradingview.com/u/TradingView/#published-scripts) and [PineCoders](https://www.tradingview.com/u/PineCoders/#published-scripts) accounts on the platform.

## [Naming Conventions](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id2)

We recommend the use of:

-   `camelCase` for all identifiers, i.e., variable or function names: `ma`, `maFast`, `maLengthInput`, `maColor`, `roundedOHLC()`, `pivotHi()`.
-   All caps `SNAKE_CASE` for constants: `BULL_COLOR`, `BEAR_COLOR`, `MAX_LOOKBACK`.
-   The use of qualifying suffixes when it provides valuable clues about the type or provenance of a variable: `maShowInput`, `bearColor`, `bearColorInput`, `volumesArray`, `maPlotID`, `resultsTable`, `levelsColorArray`.

## [Script organization](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id3)

The Pine Script™ compiler is quite forgiving of the positioning of specific statements or the version [compiler annotation](https://www.tradingview.com/pine-script-docs/en/v5/language/Script_structure.html#pagescriptstructure-compilerannotations) in the script. While other arrangements are syntactically correct, this is how we recommend organizing scripts:

```
<span><span>&lt;</span><span>license</span><span>&gt;</span></span><br><span><span>&lt;</span><span>version</span><span>&gt;</span></span><br><span><span>&lt;</span><span>declaration_statement</span><span>&gt;</span></span><br><span><span>&lt;</span><span>import_statements</span><span>&gt;</span></span><br><span><span>&lt;</span><span>constant_declarations</span><span>&gt;</span></span><br><span><span>&lt;</span><span>inputs</span><span>&gt;</span></span><br><span><span>&lt;</span><span>function_declarations</span><span>&gt;</span></span><br><span><span>&lt;</span><span>calculations</span><span>&gt;</span></span><br><span><span>&lt;</span><span>strategy_calls</span><span>&gt;</span></span><br><span><span>&lt;</span><span>visuals</span><span>&gt;</span></span><br><span><span>&lt;</span><span>alerts</span><span>&gt;</span></span><br><span><span></span></span><br>
```

### [<license>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id4)

If you publish your open-source scripts publicly on TradingView (scripts can also be published privately), your open-source code is by default protected by the Mozilla license. You may choose any other license you prefer.

The reuse of code from those scripts is governed by our [House Rules on Script Publishing](https://www.tradingview.com/support/solutions/43000590599) which preempt the author’s license.

The standard license comments appearing at the beginning of scripts are:

```
<span><span>//&nbsp;This&nbsp;source&nbsp;code&nbsp;is&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the</span><span>&nbsp;Mozilla&nbsp;Public&nbsp;License&nbsp;2.0&nbsp;at&nbsp;https://mozilla.org</span><span>/MPL/2.0/</span></span><br><span><span>//&nbsp;©&nbsp;username</span></span><br><span><span></span></span><br>
```

### [<version>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id5)

This is the [compiler annotation](https://www.tradingview.com/pine-script-docs/en/v5/language/Script_structure.html#pagescriptstructure-compilerannotations) defining the version of Pine Script™ the script will use. If none is present, v1 is used. For v5, use:

### [<import\_statements>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id7)

If your script uses one or more Pine Script™ [libraries](https://www.tradingview.com/pine-script-docs/en/v5/concepts/Libraries.html#pagelibraries), your [import](https://www.tradingview.com/pine-script-reference/v5/#op_import) statements belong here.

### [<constant\_declarations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id8)

Scripts can declare variables qualified as “const”, i.e., ones referencing a constant value.

We refer to variables as “constants” when they meet these criteria:

-   Their declaration uses the optional `const` keyword (see our User Manual’s section on [type qualifiers](https://www.tradingview.com/pine-script-docs/en/v5/language/Type_system.html#pagetypesystem-qualifiers) for more information).
-   They are initialized using a literal (e.g., `100` or `"AAPL"`) or a built-in qualified as “const” (e.g., `color.green`).
-   Their value does not change during the script’s execution.

We use `SNAKE_CASE` to name these variables and group their declaration near the top of the script. For example:

```
<span><span>//&nbsp;—————&nbsp;Constants</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>MS_IN_MIN</span><span>&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>60</span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span>1000</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>MS_IN_HOUR</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>MS_IN_MIN</span><span>&nbsp;&nbsp;</span><span>*</span><span>&nbsp;</span><span>60</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>MS_IN_DAY</span><span>&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>MS_IN_HOUR</span><span>&nbsp;</span><span>*</span><span>&nbsp;</span><span>24</span></span><br><span><span></span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>GRAY</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#808080ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>LIME</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#00FF00ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>MAROON</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#800000ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>ORANGE</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#FF8000ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>PINK</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#FF0080ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>TEAL</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#008080ff</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>BG_DIV</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>color.new</span><span>(</span><span>ORANGE</span><span>,</span><span>&nbsp;</span><span>90</span><span>)</span></span><br><span><span>color</span><span>&nbsp;&nbsp;&nbsp;</span><span>BG_RESETS</span><span>&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>color.new</span><span>(</span><span>GRAY</span><span>,</span><span>&nbsp;</span><span>90</span><span>)</span></span><br><span><span></span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST1</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"No&nbsp;reset;&nbsp;cumulate&nbsp;since&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;cha</span><span>rt"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST2</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"On&nbsp;a&nbsp;stepped&nbsp;higher&nbsp;timeframe&nbsp;(HTF)"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST3</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"On&nbsp;a&nbsp;fixed&nbsp;HTF"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST4</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"At&nbsp;a&nbsp;fixed&nbsp;time"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST5</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;regular&nbsp;session"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST6</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"At&nbsp;the&nbsp;first&nbsp;visible&nbsp;chart&nbsp;bar"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>RST7</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Fixed&nbsp;rolling&nbsp;period"</span></span><br><span><span></span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>LTF1</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Least&nbsp;precise,&nbsp;covering&nbsp;many&nbsp;chart&nbsp;bars"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>LTF2</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Less&nbsp;precise,&nbsp;covering&nbsp;some&nbsp;chart&nbsp;bars"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>LTF3</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"More&nbsp;precise,&nbsp;covering&nbsp;less&nbsp;chart&nbsp;bars"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>LTF4</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Most&nbsp;precise,&nbsp;1min&nbsp;intrabars"</span></span><br><span><span></span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>TT_TOTVOL</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"The&nbsp;'Bodies'&nbsp;value&nbsp;is&nbsp;the&nbsp;transparency&nbsp;of&nbsp;the&nbsp;tot</span><span>al&nbsp;volume&nbsp;candle&nbsp;bodies.&nbsp;Zero&nbsp;is&nbsp;opaque,&nbsp;100&nbsp;is&nbsp;tr</span><span>ansparent."</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>TT_RST_HTF</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"This&nbsp;value&nbsp;is&nbsp;used&nbsp;when&nbsp;'"</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>RST3</span><span>&nbsp;</span><span>+</span><span>"'&nbsp;is&nbsp;selected."</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>TT_RST_TIME</span><span>&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"These&nbsp;values&nbsp;are&nbsp;used&nbsp;when&nbsp;'"</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>RST4</span><span>&nbsp;</span><span>+</span><span>"'&nbsp;is&nbsp;selected.</span></span><br><span><span>&nbsp;&nbsp;</span><span>A</span><span>&nbsp;</span><span>reset</span><span>&nbsp;</span><span>will</span><span>&nbsp;</span><span>occur</span><span>&nbsp;</span><span>when</span><span>&nbsp;</span><span>the</span><span>&nbsp;</span><span>time</span><span>&nbsp;</span><span>is</span><span>&nbsp;</span><span>greater</span><span>&nbsp;</span><span>or</span><span>&nbsp;</span><span>equal</span><span>&nbsp;</span><span>to</span><span>&nbsp;</span><span>the</span><span>&nbsp;</span><span>bar</span><span>'s&nbsp;open&nbsp;time,&nbsp;and&nbsp;less&nbsp;than&nbsp;its&nbsp;close&nbsp;time.\nHour:</span><span>&nbsp;0-23\nMinute:&nbsp;0-59"</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>TT_RST_PERIOD</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"This&nbsp;value&nbsp;is&nbsp;used&nbsp;when&nbsp;'"</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>RST7</span><span>&nbsp;</span><span>+</span><span>"'&nbsp;is&nbsp;selected."</span></span><br><span><span></span></span><br>
```

In this example:

-   The `RST*` and `LTF*` constants will be used as tuple elements in the `options` argument of `input.*()` calls.
-   The `TT_*` constants will be used as `tooltip` arguments in `input.*()` calls. Note how we use a line continuation for long string literals.
-   We do not use [var](https://www.tradingview.com/pine-script-reference/v5/#op_var) to initialize constants. The Pine Script™ runtime is optimized to handle declarations on each bar, but using [var](https://www.tradingview.com/pine-script-reference/v5/#op_var) to initialize a variable only the first time it is declared incurs a minor penalty on script performance because of the maintenance that [var](https://www.tradingview.com/pine-script-reference/v5/#op_var) variables require on further bars.

Note that:

-   Literals used in more than one place in a script should always be declared as a constant. Using the constant rather than the literal makes it more readable if it is given a meaningful name, and the practice makes code easier to maintain. Even though the quantity of milliseconds in a day is unlikely to change in the future, `MS_IN_DAY` is more meaningful than `1000 * 60 * 60 * 24`.
-   Constants only used in the local block of a function or [if](https://www.tradingview.com/pine-script-reference/v5/#op_if), [while](https://www.tradingview.com/pine-script-reference/v5/#op_while), etc., statement for example, can be declared in that local block.

### [<inputs>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id9)

It is **much** easier to read scripts when all their inputs are in the same code section. Placing that section at the beginning of the script also reflects how they are processed at runtime, i.e., before the rest of the script is executed.

Suffixing input variable names with `input` makes them more readily identifiable when they are used later in the script: `maLengthInput`, `bearColorInput`, `showAvgInput`, etc.

```
<span><span>//&nbsp;—————&nbsp;Inputs</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>resetInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.string</span><span>(</span><span>RST2</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"CVD&nbsp;Resets"</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>inline</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"00"</span><span>,</span><span>&nbsp;</span><span>options</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>[</span><span>RST1</span><span>,</span><span>&nbsp;</span><span>RST2</span><span>,</span><span>&nbsp;</span><span>RST3</span><span>,</span><span>&nbsp;</span><span>RST4</span><span>,</span><span>&nbsp;</span><span>RST5</span><span>,</span><span>&nbsp;</span><span>RST6</span><span>,</span><span>&nbsp;</span><span>RST7</span><span>])</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>fixedTfInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.timeframe</span><span>(</span><span>"D"</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"  Fixed&nbsp;HTF:  "</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>tooltip</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>TT_RST_HTF</span><span>)</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>hourInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.int</span><span>(</span><span>9</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"  Fixed&nbsp;time&nbsp;hour:  "</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>inline</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"01"</span><span>,</span><span>&nbsp;</span><span>minval</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>0</span><span>,</span><span>&nbsp;</span><span>maxval</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>23</span><span>)</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>minuteInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.int</span><span>(</span><span>30</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"minute"</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>inline</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"01"</span><span>,</span><span>&nbsp;</span><span>minval</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>0</span><span>,</span><span>&nbsp;</span><span>maxval</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>59</span><span>,</span><span>&nbsp;</span><span>tooltip</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>TT_RST_TIME</span><span>)</span></span><br><span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>fixedPeriodInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.int</span><span>(</span><span>20</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"  Fixed&nbsp;period:  "</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>inline</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"02"</span><span>,</span><span>&nbsp;</span><span>minval</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>1</span><span>,</span><span>&nbsp;</span><span>tooltip</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>TT_RST_PERIOD</span><span>)</span></span><br><span><span>string</span><span>&nbsp;&nbsp;</span><span>ltfModeInput</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.string</span><span>(</span><span>LTF3</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"Intrabar&nbsp;precision"</span><span>,</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>inline</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"03"</span><span>,</span><span>&nbsp;</span><span>options</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>[</span><span>LTF1</span><span>,</span><span>&nbsp;</span><span>LTF2</span><span>,</span><span>&nbsp;</span><span>LTF3</span><span>,</span><span>&nbsp;</span><span>LTF4</span><span>])</span></span><br><span><span></span></span><br>
```

### [<function\_declarations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id10)

All user-defined functions must be defined in the script’s global scope; nested function definitions are not allowed in Pine Script™.

Optimal function design should minimize the use of global variables in the function’s scope, as they undermine function portability. When it can’t be avoided, those functions must follow the global variable declarations in the code, which entails they can’t always be placed in the <function\_declarations> section. Such dependencies on global variables should ideally be documented in the function’s comments.

It will also help readers if you document the function’s objective, parameters and result. The same syntax used in [libraries](https://www.tradingview.com/pine-script-docs/en/v5/concepts/Libraries.html#pagelibraries) can be used to document your functions. This can make it easier to port your functions to a library should you ever decide to do so:

```
<span><span>//</span><span>@version=5</span></span><br><span><span>indicator</span><span>(</span><span>"&lt;function_declarations&gt;"</span><span>,</span><span>&nbsp;</span><span>""</span><span>,</span><span>&nbsp;</span><span>true</span><span>)</span></span><br><span><span></span></span><br><span><span>string</span><span>&nbsp;</span><span>SIZE_LARGE</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Large"</span></span><br><span><span>string</span><span>&nbsp;</span><span>SIZE_NORMAL</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Normal"</span></span><br><span><span>string</span><span>&nbsp;</span><span>SIZE_SMALL</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Small"</span></span><br><span><span></span></span><br><span><span>string</span><span>&nbsp;</span><span>sizeInput</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>input.string</span><span>(</span><span>SIZE_NORMAL</span><span>,</span><span>&nbsp;</span><span>"Size"</span><span>,</span><span>&nbsp;</span><span>options</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>[</span><span>SIZE_LARGE</span><span>,</span><span>&nbsp;</span><span>SIZE_NORMAL</span><span>,</span><span>&nbsp;</span><span>SIZE_SMALL</span><span>])</span></span><br><span><span></span></span><br><span><span>//&nbsp;</span><span>@function</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used&nbsp;to&nbsp;produce&nbsp;an&nbsp;argument&nbsp;for&nbsp;the&nbsp;`size`</span><span>&nbsp;parameter&nbsp;in&nbsp;built-in&nbsp;functions.</span></span><br><span><span>//&nbsp;</span><span>@param</span><span>&nbsp;userSize&nbsp;&nbsp;(simple&nbsp;string)&nbsp;User-selected&nbsp;size.</span></span><br><span><span>//&nbsp;</span><span>@returns</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;One&nbsp;of&nbsp;the&nbsp;`size.*`&nbsp;built-in&nbsp;constants.</span></span><br><span><span>//&nbsp;Dependencies:&nbsp;&nbsp;&nbsp;&nbsp;SIZE_LARGE,&nbsp;SIZE_NORMAL,&nbsp;SIZE_</span><span>SMALL</span></span><br><span><span>getSize</span><span>(</span><span>simple</span><span>&nbsp;</span><span>string</span><span>&nbsp;</span><span>userSize</span><span>)</span><span>&nbsp;</span><span>=&gt;</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>result</span><span>&nbsp;</span><span>=</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>switch</span><span>&nbsp;</span><span>userSize</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>SIZE_LARGE</span><span>&nbsp;&nbsp;</span><span>=&gt;</span><span>&nbsp;</span><span>size.large</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>SIZE_NORMAL</span><span>&nbsp;</span><span>=&gt;</span><span>&nbsp;</span><span>size.normal</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>SIZE_SMALL</span><span>&nbsp;&nbsp;</span><span>=&gt;</span><span>&nbsp;</span><span>size.small</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>=&gt;</span><span>&nbsp;</span><span>size.auto</span></span><br><span><span></span></span><br><span><span>if</span><span>&nbsp;</span><span>ta.rising</span><span>(</span><span>close</span><span>,</span><span>&nbsp;</span><span>3</span><span>)</span></span><br><span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>label.new</span><span>(</span><span>bar_index</span><span>,</span><span>&nbsp;</span><span>na</span><span>,</span><span>&nbsp;</span><span>yloc</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>yloc.abovebar</span><span>,</span><span>&nbsp;</span><span>style</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>label.style_arrowup</span><span>,</span><span>&nbsp;</span><span>size</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>getSize</span><span>(</span><span>sizeInput</span><span>))</span></span><br><span><span></span></span><br>
```

### [<calculations>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id11)

This is where the script’s core calculations and logic should be placed. Code can be easier to read when variable declarations are placed near the code segment using the variables. Some programmers prefer to place all their non-constant variable declarations at the beginning of this section, which is not always possible for all variables, as some may require some calculations to have been executed before their declaration.

### [<strategy\_calls>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id12)

Strategies are easier to read when strategy calls are grouped in the same section of the script.

### [<visuals>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id13)

This section should ideally include all the statements producing the script’s visuals, whether they be plots, drawings, background colors, candle-plotting, etc. See the Pine Script™ User Manual’s section on [here](https://www.tradingview.com/pine-script-docs/en/v5/concepts/Colors.html#pagecolors-zindex) for more information on how the relative depth of visuals is determined.

### [<alerts>](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id14)

Alert code will usually require the script’s calculations to have executed before it, so it makes sense to put it at the end of the script.

## [Spacing](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id15)

A space should be used on both sides of all operators, except unary operators (`-1`). A space is also recommended after all commas and when using named function arguments, as in `plot(series = close)`:

```
<span><span>int</span><span>&nbsp;</span><span>a</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>close</span><span>&nbsp;</span><span>&gt;</span><span>&nbsp;</span><span>open</span><span>&nbsp;</span><span>?</span><span>&nbsp;</span><span>1</span><span>&nbsp;</span><span>:</span><span>&nbsp;</span><span>-1</span></span><br><span><span>var</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>newLen</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>2</span></span><br><span><span>newLen</span><span>&nbsp;</span><span>:=</span><span>&nbsp;</span><span>min</span><span>(</span><span>20</span><span>,</span><span>&nbsp;</span><span>newlen</span><span>&nbsp;</span><span>+</span><span>&nbsp;</span><span>1</span><span>)</span></span><br><span><span>float</span><span>&nbsp;</span><span>a</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>-</span><span>b</span></span><br><span><span>float</span><span>&nbsp;</span><span>c</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>d</span><span>&nbsp;</span><span>&gt;</span><span>&nbsp;</span><span>e</span><span>&nbsp;</span><span>?</span><span>&nbsp;</span><span>d</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>e</span><span>&nbsp;</span><span>:</span><span>&nbsp;</span><span>d</span></span><br><span><span>int</span><span>&nbsp;</span><span>index</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>bar_index</span><span>&nbsp;</span><span>%</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>==</span><span>&nbsp;</span><span>0</span><span>&nbsp;</span><span>?</span><span>&nbsp;</span><span>1</span><span>&nbsp;</span><span>:</span><span>&nbsp;</span><span>2</span></span><br><span><span>plot</span><span>(</span><span>close</span><span>,</span><span>&nbsp;</span><span>color</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>color.red</span><span>)</span></span><br><span><span></span></span><br>
```

## [Line wrapping](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id16)

Line wrapping can make long lines easier to read. Line wraps are defined by using an indentation level that is not a multiple of four, as four spaces or a tab are used to define local blocks. Here we use two spaces:

```
<span><span>plot</span><span>(</span></span><br><span><span>&nbsp;&nbsp;&nbsp;</span><span>series</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>close</span><span>,</span></span><br><span><span>&nbsp;&nbsp;&nbsp;</span><span>title</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>"Close"</span><span>,</span></span><br><span><span>&nbsp;&nbsp;&nbsp;</span><span>color</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>color.blue</span><span>,</span></span><br><span><span>&nbsp;&nbsp;&nbsp;</span><span>show_last</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>10</span></span><br><span><span>&nbsp;</span><span>)</span></span><br><span><span></span></span><br>
```

## [Vertical alignment](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id17)

Vertical alignment using tabs or spaces can be useful in code sections containing many similar lines such as constant declarations or inputs. They can make mass edits much easier using the Pine Editor’s multi-cursor feature (ctrl + alt + 🠅/🠇):

```
<span><span>//&nbsp;Colors&nbsp;used&nbsp;as&nbsp;defaults&nbsp;in&nbsp;inputs.</span></span><br><span><span>color</span><span>&nbsp;</span><span>COLOR_AQUA</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#0080FFff</span></span><br><span><span>color</span><span>&nbsp;</span><span>COLOR_BLACK</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>#000000ff</span></span><br><span><span>color</span><span>&nbsp;</span><span>COLOR_BLUE</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#013BCAff</span></span><br><span><span>color</span><span>&nbsp;</span><span>COLOR_CORAL</span><span>&nbsp;</span><span>=</span><span>&nbsp;</span><span>#FF8080ff</span></span><br><span><span>color</span><span>&nbsp;</span><span>COLOR_GOLD</span><span>&nbsp;&nbsp;</span><span>=</span><span>&nbsp;</span><span>#CCCC00ff</span></span><br><span><span></span></span><br>
```

## [Explicit typing](https://www.tradingview.com/pine-script-docs/en/v5/writing/Style_guide.html#id18)

Including the type of variables when declaring them is not required and is usually overkill for small scripts; we do not systematically use it. It can be useful to make the type of a function’s result clearer, and to distinguish a variable’s declaration (using `=`) from its reassignments (using `:=`). Using explicit typing can also make it easier for readers to find their way in larger scripts.

[

![../_images/TradingView_Logo_Block.svg](https://www.tradingview.com/pine-script-docs/en/v5/_images/TradingView_Logo_Block.svg)

](https://www.tradingview.com/)